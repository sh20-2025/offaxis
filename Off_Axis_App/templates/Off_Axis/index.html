{% extends "Off_Axis/base.html" %}
{% load static %}
{% block title_block %}Off Axis Gigs - Landing Page{% endblock %}
{% block import_block %}
    <link rel="stylesheet" href="{% static "styles/landing_page.css" %}">
    <link rel="stylesheet" href="{% static "styles/gigs_section.css" %}">
    <script src="{% static "scripts/landing_page.js" %}"></script>
{% endblock %}
{% block body_block %}
    <section class="hero">
        <div class="hero-circles">
            {% for gig in just_announced_gigs %}
                <div class="hero-circle">
                    <img src="{{ gig.gig_picture.url }}" alt="{{ gig.artist.user.username }}">
                    <h4>{{ gig.artist.user.username }} | {{ gig.venue.address.city }}</h4>
                </div>
            {% endfor %}
        </div>
    </section>
    <section class="gigs-section">
        <div class="left">
            <div class="gigs-section-media"></div>
        </div>
        <div class="right">
            {% for gig in featured_gigs %}
                <div class="gig">
                    <div class="date">
                        <div class="num">{{ gig.date|date:"d" }}</div>
                        {{ gig.date|date:"F" }}
                    </div>
                    <div class="description">
                        <div class="name">{{ gig.artist.user.username }}</div>
                        with - {{ gig.lineup }} | {{ gig.date|date:"d/m/Y" }}
                    </div>
                    <div class="buy-btn">Buy Tickets</div>
                </div>
            {% endfor %}
        </div>
    </section>
    <div class="all-gigs-btn">
        <a href='#'>
            {% include "components/button.html" with id="button7" type="button" variant="rainbow" text="View All Gigs!" size="lg" %}
        </a>
    </div>
    <section class="artist-of-the-week">

        <div class="left">

            <img class="artist-of-the-week-media" src="{{ artist_of_the_week.profile_picture.url }}" alt="{{ artist_of_the_week.user.username }}">

        </div>

        <div class="right">
            <div class="artist-of-the-week-info">
                <h2>Artist of the Week</h2>
                <h3>{{ artist_of_the_week.user.username }}</h3>
                <p>
                    {{ artist_of_the_week.bio }}
                </p>
                <div class="artist-of-the-week-button">
                    <a href="{% url 'artist' artist_of_the_week.slug %}">
                        {% include "components/button.html" with id="button9" type="button" variant="rainbow" text="Read More" size="sm" %}
                    </a>
                </div>
            </div>
        </div>
    </section>

    <section class="offaxis-socials">
        <div class="socials">
            <h2>
                <a href="https://www.instagram.com/offaxisgigs/">@offaxisgigs</a> On Instagram
            </h2>
        </div>
    </section>

    <div class="slider-container">
        <button id="prevBtn" class="slider-btn prev">&#10094;</button>
        <div class="insta-carousel">

            <div class="insta-square">
                <blockquote
                class="instagram-media"
                data-instgrm-permalink="https://www.instagram.com/reel/DHJNNF3tD8f/"
                data-instgrm-version="14">
                    <a href="https://www.instagram.com/reel/DHJNNF3tD8f/"></a>
                </blockquote>
            </div>

            <div class="insta-square">
                <blockquote
                    class="instagram-media"
                    data-instgrm-permalink="https://www.instagram.com/reel/DFN0dk-tzr9/"
                    data-instgrm-version="14">
                    <a href="https://www.instagram.com/reel/DFN0dk-tzr9/"></a>
                </blockquote>
            </div>

            <div class="insta-square">
                <blockquote
                class="instagram-media"
                data-instgrm-permalink="https://www.instagram.com/reel/DEQXsF9tff_/"
                data-instgrm-version="14">
                    <a href="https://www.instagram.com/reel/DEQXsF9tff_/"></a>
                </blockquote>
            </div>

            <div class="insta-square">
                <blockquote
                    class="instagram-media"
                    data-instgrm-permalink="https://www.instagram.com/reel/DDzkLYENFvk/"
                    data-instgrm-version="14">
                    <a href="https://www.instagram.com/reel/DDzkLYENFvk/"></a>
                </blockquote>
            </div>

            <div class="insta-square">
                <blockquote
                    class="instagram-media"
                    data-instgrm-permalink="https://www.instagram.com/reel/DDh9DsIOSx4/"
                    data-instgrm-version="14">
                    <a href="https://www.instagram.com/reel/DDh9DsIOSx4/"></a>
                </blockquote>
            </div>

            <div class="insta-square">
                <blockquote
                    class="instagram-media"
                    data-instgrm-permalink="https://www.instagram.com/reel/DDfeqVktTG-/"
                    data-instgrm-version="14">
                    <a href="https://www.instagram.com/reel/DDfeqVktTG-/"></a>
                </blockquote>
            </div>

            <div class="insta-square">
                <blockquote
                    class="instagram-media"
                    data-instgrm-permalink="https://www.instagram.com/reel/DDSWgyQNIxT/"
                    data-instgrm-version="14">
                    <a href="https://www.instagram.com/reel/DDSWgyQNIxT/"></a>
                </blockquote>
            </div>
        </div>
        <button id="nextBtn" class="slider-btn next">&#10095;</button>
        </div>
        <script async src="//www.instagram.com/embed.js"></script>
        <script>
        // Select the carousel and navigation buttons
        const carousel = document.querySelector('.insta-carousel');
        const nextBtn = document.getElementById('nextBtn');
        const prevBtn = document.getElementById('prevBtn');

        // Calculate one slide's width (including the gap)
        function getSlideWidth() {
            const slide = carousel.querySelector('.insta-square');
            const slideWidth = slide ? slide.offsetWidth : 0;
            const gap = parseInt(getComputedStyle(carousel).gap) || 0;
            return slideWidth + gap;
        }

        // Scroll to the next slide
        nextBtn.addEventListener('click', () => {
            carousel.scrollBy({ left: getSlideWidth(), behavior: 'smooth' });
        });

        // Scroll to the previous slide
        prevBtn.addEventListener('click', () => {
            carousel.scrollBy({ left: -getSlideWidth(), behavior: 'smooth' });
        });
        </script>

    <section class="bottom-info-section">
        <h3>Our Partners</h3>
        <div class="our-partners">
            <a href="https://www.newfoundsound.co.uk/">
                <img class="partner" alt="newfoundsound" src="{% static 'images/nfs.png' %}"></img>
            </a>
            <a href="https://www.unconventionhub.org/">
                <img class="partner" alt="unconventionhub" src="{% static 'images/uncon.png' %}"></img>
            </a>
            <a href="https://musiciansunion.org.uk/">
                <img class="partner" alt="musiciansunion" src="{% static 'images/mu.png' %}"></img>
            </a>
            <a href="https://www.livingwage.org.uk/accredited-living-wage-employers">
                <img class="partner" alt="livingwage" src="{% static 'images/living-wage.png' %}"></img>
            </a>
            <a href="https://www.creativecarbonscotland.com/green-arts-initiative/">
                <img class="partner" alt="creativecarbonscotland" src="{% static 'images/GAI.png' %}"></img>
            </a>
        </div>
        <div class="info-text">
            <h4>My account | Terms & Conditions | Privacy Policy</h4>
            <h4>OFF AXIS Tours CIC Â© 2024 | Website built by Glasgow University team SH20</h4>
        </div>
    </section>
    <section class="cta-section">
    </section>
{% endblock %}
